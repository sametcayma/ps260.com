$(document).ready(function(){function e(){l.sort(function(e,t){var i=e.toLowerCase().split(" ")[1],n=t.toLowerCase().split(" ")[1];return e.toLowerCase().indexOf("vfx")>-1||void 0==i?0:t.toLowerCase().indexOf("vfx")>-1||void 0==n?0:n>i?-1:i>n?1:0});for(var e=$("#editors .thumbnail-wrapper"),i=0;i<l.length;i++){var n=l[i],a=u[n];void 0==a&&(a="assets/blank.jpg");var s=$('<div class="thumbnail grayscale" data-editor-index="'+i+'"><img src="'+a+'"/><div class="thumbnail-description"><p class="name">'+n+"</p></div></div>");s.css({opacity:0}),s.find("img").load(function(){p?$(this).parent().css({opacity:1}):$(this).parent().animate({opacity:1})}),s.click(function(i){i.preventDefault(),-1==window.location.href.indexOf("#")&&history.pushState(null,null,"#"),$(this).removeClass("grayscale"),o(e),$(this).addClass("selected"),t($(this).attr("data-editor-index"))}).mouseenter(function(){$(this).removeClass("grayscale")}).mouseleave(function(){$(this).hasClass("selected")||$(this).addClass("grayscale")}),e.append(s)}}function t(e){var t=l[e];i(t),$("#videos .editor-name").html(t),$("#videos .thumbnail:first-child").click()}function i(e){var t=$("#videos .thumbnail-wrapper");t.empty(),$.each(c[e],function(e,i){n(i,t)});var i=d[e];for(var s in i){var o=i[s],r=Math.round((o.length-1)*Math.random()),l=o[r];t.append(a(l.icon,s,"","",function(i){i.preventDefault();var a=$(this).index()-1;$(this).remove(),$.each(d[e][s],function(e,i){n(i,t,a)})}))}1==c[e].length?t.hide():t.show(),$("#videos").fadeIn()}function n(e,t,i){var n=e.name.split('"'),r=n[0],l='"'+n[1]+'"',c=n[2];r.indexOf("*")>-1&&(r=r.split("*")[1]),titleEle="",null!=l&&""!=l&&void 0!=l&&l.toLowerCase().indexOf("undefined")<0&&(titleEle='<p class="title">'+l+"</p>"),directorEle="",null!=c&&""!=c&&void 0!==c&&c.toLowerCase().indexOf("undefined")<0&&(c.toUpperCase().indexOf("DIRECTOR")<0&&(c="DIRECTOR: "+c.split(".")[1]),directorEle='<p class="director">'+c+"</p>");var d=a(e.icon,r,titleEle,directorEle,function(i){i.preventDefault(),$(this).removeClass("grayscale"),o(t),$(this).addClass("selected"),s(e)});null!=i?$(t.children()[i]).after(d):t.append(d)}function a(e,t,i,n,a){var s=$('<div class="thumbnail grayscale"><img src="'+e+'"/><div class="thumbnail-description"><p class="brand">'+t+"</p>"+i+n+"</div></div>");return s.css({opacity:0}),s.find("img").load(function(){p?$(this).parent().css({opacity:1}):$(this).parent().animate({opacity:1})}),s.click(a).mouseenter(function(){$(this).hasClass("selected")||$(this).removeClass("grayscale")}).mouseleave(function(){$(this).hasClass("selected")||$(this).addClass("grayscale")}),s}function s(e){$(window).scrollTo(0,500,{interrupt:!p});var t=e.name.split("-")[0];$("#videos .video-title").html(t.toUpperCase()),y.poster(e.icon),y.src({type:"video/mp4",src:e.url})}function o(e){e.children().each(function(){$thumbnail=$(this),$thumbnail.hasClass("selected")&&($thumbnail.removeClass("selected"),$thumbnail.addClass("grayscale"))})}var r="https://www.interdubs.com/r/ps260/index.php?al=1RAeyt&json=1&allchars=1&",l=new Array,c=new Object,d=new Object,u=new Object,h=!1,p=!1,f=680,v=!1,m=800;try{Typekit.load({async:!0})}catch(w){}$.easing.easeInOutExpo=function(e,t,i,n,a){return 0==t?i:t==a?i+n:(t/=a/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(-Math.pow(2,-10*--t)+2)+i},$.easing.easeInOutQuart=function(e,t,i,n,a){return(t/=a/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},$(".splash-logo").click(function(e){e.preventDefault(),h=!0,$("#splash").transition({opacity:0},function(){$("#splash").css({display:"none"})})}),p&&(h=!0,$("#splash").hide()),$(window).resize(function(){v&&$("#menu-button").click(),$(window).width()<=f?(p=!0,h||$("#splash").hide(),r+="iconsizeindex=5"):(h||$("#splash").show(),r+="iconsizeindex=108")}),$(window).resize(),p&&$(".number").each(function(){var e=$(this).text();$(this).html('<a href="tel:+1'+e.replace(/\s/g,"")+'">'+e+"</a>")});var y=videojs("video-player",{fluid:!0,autoplay:!p});$("#menu-button").click(function(e){e.preventDefault(),v?$(this).stop().transition({rotate:"270deg"},500,"cubic-bezier(0,0.9,0.3,1)"):$(this).stop().transition({rotate:"-45deg"},500,"cubic-bezier(0,0.9,0.3,1)"),$("#mobile-nav-wrapper").stop().fadeToggle(),v=!v}),$("#mobile-nav-wrapper li a").each(function(e,t){$(t).click(function(e){e.preventDefault();var t=$(this).attr("href");$(window).scrollTo($("body").find(t),m,{offset:{top:-20,left:0},easing:"easeInOutQuart"})})}),$(".nav-wrapper a").each(function(e,t){$(t).click(function(e){e.preventDefault();var t=$(this).attr("href");$(window).scrollTo($("body").find(t),m,{offset:{top:-20,left:0},easing:"easeInOutQuart"})})}),$("#scroll-to-top").click(function(e){e.preventDefault(),$(window).scrollTo(0,m,{easing:"easeInOutQuart"})}),$(window).scroll(function(){0==$(window).scrollTop()?$("#scroll-to-top").stop().fadeOut():$("#scroll-to-top").stop().fadeIn()}),$(window).on("hashchange",function(){$("#videos").hide(),$(window).scrollTo(0,m,{easing:"easeInOutQuart"})}),$.getJSON(r,function(t){$.each(t.children,function(e,t){if("Key Images"!=t.name){var i=new Array,n=new Object;$.each(t.children,function(e,t){if("directory"==t.type){var a=new Array;$.each(t.children,function(e,t){a.push(t)}),n[t.name]=a}else i.push(t)}),c[t.name]=i,d[t.name]=n,l.push(t.name)}else $.each(t.children,function(e,t){"file"==t.type&&(u[t.name]=t.icon)})}),e()})});